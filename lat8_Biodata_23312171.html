<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Biodata — Rizky Dwi Rayhan</title>

<!-- Tailwind CSS -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- FontAwesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-gray-100">

<div class="flex">

    <!-- Overlay -->
    <div id="overlay" class="fixed inset-0 bg-black bg-opacity-40 hidden z-40 lg:hidden"></div>

    <!-- Sidebar -->
    <aside class="sidebar fixed top-0 left-0 w-64 h-full bg-gray-900 text-white shadow-lg -translate-x-full lg:translate-x-0 transition-transform duration-300 z-50">
        <div class="py-5 text-center font-bold text-xl border-b border-gray-700">Menu Navigasi</div>
        <nav class="mt-4 space-y-2 px-3 text-sm">
            <a href="#data-diri" class="flex items-center gap-3 p-3 rounded hover:bg-gray-800"><i class="fas fa-user"></i> Data Diri</a>
            <a href="#riwayat-sekolah" class="flex items-center gap-3 p-3 rounded hover:bg-gray-800"><i class="fas fa-school"></i> Riwayat Sekolah</a>
            <a href="#riwayat-organisasi" class="flex items-center gap-3 p-3 rounded hover:bg-gray-800"><i class="fas fa-users"></i> Organisasi</a>
            <a href="#riwayat-kegiatan" class="flex items-center gap-3 p-3 rounded hover:bg-gray-800"><i class="fas fa-calendar-check"></i> Kegiatan</a>
            <a href="#riwayat-proyek" class="flex items-center gap-3 p-3 rounded hover:bg-gray-800"><i class="fas fa-laptop-code"></i> Proyek</a>
            <a href="#daftar-keahlian" class="flex items-center gap-3 p-3 rounded hover:bg-gray-800"><i class="fas fa-code"></i> Keahlian</a>
        </nav>
    </aside>

    <!-- Toggle Button -->
    <button id="toggleSidebar" class="lg:hidden fixed top-4 left-4 bg-gray-900 text-white p-2 rounded-md z-50">
        <i class="fas fa-bars text-xl"></i>
    </button>

    <!-- Main Content -->
    <main class="flex-1 lg:ml-64">

        <!-- Header -->
        <header class="bg-gradient-to-r from-blue-600 to-blue-800 py-12 text-center text-white shadow-md">
            <h1 class="text-4xl font-bold">Rizky Dwi Rayhan</h1>
            <p class="opacity-90">Fullstack Web Development Student</p>
        </header>

        <!-- Foto -->
        <div class="flex justify-center -mt-10">
            <img src="img/pas_foto.jpeg" class="w-36 h-36 rounded-full border-4 border-white shadow-xl object-cover">
        </div>

        <!-- Content Wrapper -->
        <div class="p-6 space-y-8">

            <!-- Data Diri -->
            <section id="data-diri" class="bg-white p-6 shadow-lg rounded-xl">
                <h2 class="text-2xl font-semibold text-blue-700 mb-4">Informasi Pribadi</h2>
                <div class="space-y-2 text-gray-700">
                    <div class="flex"><div class="w-44 font-semibold">Nama</div><div class="w-4">:</div><div>Rizky Dwi Rayhan</div></div>
                    <div class="flex"><div class="w-44 font-semibold">Jenis Kelamin</div><div class="w-4">:</div><div>Laki-laki</div></div>
                    <div class="flex"><div class="w-44 font-semibold">Tempat, Tanggal Lahir</div><div class="w-4">:</div><div>Metro, 17 Desember 2004</div></div>
                    <div class="flex"><div class="w-44 font-semibold">Telepon</div><div class="w-4">:</div><div>089674538203</div></div>
                    <div class="flex"><div class="w-44 font-semibold">Email</div><div class="w-4">:</div><div>rizkyrayhan123@gmail.com</div></div>
                </div>
            </section>

            <!-- Organisasi -->
            <section id="riwayat-organisasi" class="bg-white p-6 shadow-lg rounded-xl">
                <h2 class="text-2xl font-semibold text-blue-700 mb-4">Organisasi</h2>
                <ul class="list-disc pl-6 space-y-2 text-gray-700">
                    <li>Tandu Palang Merah Remaja (PMR)</li>
                </ul>
            </section>

            <!-- Kegiatan -->
            <section id="riwayat-kegiatan" class="bg-white p-6 shadow-lg rounded-xl">
                <h2 class="text-2xl font-semibold text-blue-700 mb-4">Kegiatan</h2>
                <ul class="list-disc pl-6 space-y-2 text-gray-700">
                    <li>UKM Esport Divisi PUBG Mobile</li>
                    <li>Pelatihan Junior Web Developer</li>
                    <li>Panitia Keamanan Lomba PMR</li>
                </ul>
            </section>

            <!-- Pendidikan -->
            <section id="riwayat-sekolah" class="bg-white p-6 shadow-lg rounded-xl">
                <h2 class="text-2xl font-semibold text-blue-700 mb-4">Riwayat Pendidikan</h2>
                <ul class="list-disc pl-6 space-y-2 text-gray-700">
                    <li>SD Pertiwi Teladan (2011–2017)</li>
                    <li>SMPN 1 Metro (2017–2019)</li>
                    <li>SMAN 4 Metro (2020–2023)</li>
                    <li>Universitas Teknokrat Indonesia (2023–Sekarang)</li>
                </ul>
            </section>

            <!-- Proyek -->
            <section id="riwayat-proyek" class="bg-white p-6 shadow-lg rounded-xl">
                <h2 class="text-2xl font-semibold text-blue-700 mb-4">Portofolio Proyek</h2>
                <div id="projectGrid" class="grid gap-4 sm:grid-cols-2"></div>
            </section>

            <!-- Keahlian -->
            <section id="daftar-keahlian" class="bg-white p-6 shadow-lg rounded-xl">
                <h2 class="text-2xl font-semibold text-blue-700 mb-4">Keahlian</h2>
                <ul id="skillsList" class="list-disc pl-6 space-y-2 text-gray-700"></ul>
            </section>

        </div>

        <!-- Footer -->
        <footer class="text-center py-5 text-white bg-gray-900 mt-5">
            © 2024 Pweb2 • Rizky Dwi Rayhan • 23312171
        </footer>
    </main>
</div>

<!-- Sidebar Toggle & Overlay Script -->
<script>
const sidebar = document.querySelector('.sidebar');
const toggleBtn = document.getElementById('toggleSidebar');
const overlay = document.getElementById('overlay');

function toggleSidebar() {
    sidebar.classList.toggle('-translate-x-full');
    sidebar.classList.toggle('translate-x-0');
    overlay.classList.toggle('hidden');
}

toggleBtn.addEventListener('click', toggleSidebar);
overlay.addEventListener('click', toggleSidebar);
</script>

<!-- ScrollSpy -->
<script>
const sections = document.querySelectorAll('main section');
const navLinks = document.querySelectorAll('.sidebar nav a');

window.addEventListener('scroll', () => {
    let current = '';
    sections.forEach(section => {
        const sectionTop = section.offsetTop - 120;
        if (pageYOffset >= sectionTop) current = section.getAttribute('id');
    });
    navLinks.forEach(link => {
        link.classList.remove('bg-blue-800');
        if (link.getAttribute('href') === `#${current}`) link.classList.add('bg-blue-800');
    });
});
</script>

<!-- Fetch Proyek & Keahlian -->
<script>
fetch('php/lat7_get_proyek.php')
.then(res => res.json())
.then(data => {
    const wrapper = document.getElementById("projectGrid");
    wrapper.innerHTML = '';
    if (!data.length) { wrapper.innerHTML = `<p class="text-gray-500 text-center col-span-full">Belum ada proyek.</p>`; return; }
    data.forEach(item => {
        wrapper.innerHTML += `
        <div class="bg-blue-50 p-4 rounded-lg shadow-md border border-blue-200 hover:scale-[1.03] hover:shadow-lg transition">
            <h3 class="font-semibold text-blue-800 mb-1"><i class="fas fa-laptop-code"></i> ${item.nama_proyek}</h3>
            <p class="text-gray-700">${item.deskripsi}</p>
            <a href="php/lat7_detail_proyek.php?id=${item.id_proyek}" class="inline-block mt-3 px-4 py-2 bg-blue-700 text-white rounded-md hover:bg-blue-800 transition shadow-md">
                Detail Proyek <i class="fas fa-arrow-right ml-1"></i>
            </a>
        </div>`;
    });
});

fetch('php/lat7_get_keahlian.php')
.then(res => res.json())
.then(data => {
    const list = document.getElementById("skillsList");
    list.innerHTML = '';
    if (!data.length) { list.innerHTML = `<p class="text-center text-gray-500">Belum ada keahlian.</p>`; return; }
    data.forEach(item => {
        list.innerHTML += `<li class="hover:text-blue-700 transition"><i class="fas ${item.icon} text-blue-700 mr-2"></i>${item.nama_keahlian} — ${item.deskripsi}</li>`;
    });
});
</script>

</body>
</html>
