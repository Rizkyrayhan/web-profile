<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lat9 Biodata — Rizky Dwi Rayhan</title>

<!-- Tailwind CSS -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- FontAwesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
    /* Animasi untuk scroll reveal */
    .scroll-animate {
        opacity: 0;
        transform: translateY(30px);
        transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }
    
    .scroll-animate.show {
        opacity: 1;
        transform: translateY(0);
    }
    
    /* Delay untuk animasi berurutan */
    .scroll-animate:nth-child(1) { transition-delay: 0.1s; }
    .scroll-animate:nth-child(2) { transition-delay: 0.2s; }
    .scroll-animate:nth-child(3) { transition-delay: 0.3s; }
    .scroll-animate:nth-child(4) { transition-delay: 0.4s; }
</style>
</head>
<body class="bg-gray-100">

<div class="flex">

    <!-- Overlay -->
    <div id="overlay" class="fixed inset-0 bg-black bg-opacity-40 hidden z-40 lg:hidden"></div>

    <!-- Sidebar -->
    <aside class="sidebar fixed top-0 left-0 w-64 h-full bg-gray-900 text-white shadow-lg -translate-x-full lg:translate-x-0 transition-transform duration-300 z-50">
        <div class="py-5 text-center font-bold text-xl border-b border-gray-700">Menu Navigasi</div>
        <nav class="mt-4 space-y-2 px-3 text-sm">
            <a href="#data-diri" class="flex items-center gap-3 p-3 rounded hover:bg-gray-800 transition"><i class="fas fa-user"></i> Data Diri</a>
            <a href="#riwayat-sekolah" class="flex items-center gap-3 p-3 rounded hover:bg-gray-800 transition"><i class="fas fa-school"></i> Riwayat Sekolah</a>
            <a href="#riwayat-organisasi" class="flex items-center gap-3 p-3 rounded hover:bg-gray-800 transition"><i class="fas fa-users"></i> Organisasi</a>
            <a href="#riwayat-kegiatan" class="flex items-center gap-3 p-3 rounded hover:bg-gray-800 transition"><i class="fas fa-calendar-check"></i> Kegiatan</a>
            <a href="#riwayat-proyek" class="flex items-center gap-3 p-3 rounded hover:bg-gray-800 transition"><i class="fas fa-laptop-code"></i> Proyek</a>
            <a href="#daftar-keahlian" class="flex items-center gap-3 p-3 rounded hover:bg-gray-800 transition"><i class="fas fa-code"></i> Keahlian</a>
        </nav>
    </aside>

    <!-- Toggle Button -->
    <button id="toggleSidebar" class="lg:hidden fixed top-4 left-4 bg-gray-900 text-white p-2 rounded-md z-50 shadow-lg">
        <i class="fas fa-bars text-xl"></i>
    </button>

    <!-- Main Content -->
    <main class="flex-1 lg:ml-64">

        <!-- Header -->
        <header class="bg-gradient-to-r from-blue-600 to-blue-800 py-12 text-center text-white shadow-md">
            <h1 class="text-4xl font-bold animate-fade-in">Rizky Dwi Rayhan</h1>
            <p class="opacity-90 mt-2">Fullstack Web Development Student</p>
        </header>

        <!-- Foto -->
        <div class="flex justify-center -mt-10">
            <img src="img/pas_foto.jpeg" class="w-36 h-36 rounded-full border-4 border-white shadow-xl object-cover hover:scale-105 transition-transform duration-300">
        </div>

        <!-- Content Wrapper -->
        <div class="p-6 space-y-8">

            <!-- Data Diri -->
            <section id="data-diri" class="bg-white p-6 shadow-lg rounded-xl scroll-animate hover:shadow-xl transition-shadow">
                <h2 class="text-2xl font-semibold text-blue-700 mb-4 flex items-center gap-2">
                    <i class="fas fa-user-circle"></i> Informasi Pribadi
                </h2>
                <div class="space-y-2 text-gray-700">
                    <div class="flex hover:bg-gray-50 p-2 rounded transition"><div class="w-44 font-semibold">Nama</div><div class="w-4">:</div><div>Rizky Dwi Rayhan</div></div>
                    <div class="flex hover:bg-gray-50 p-2 rounded transition"><div class="w-44 font-semibold">Jenis Kelamin</div><div class="w-4">:</div><div>Laki-laki</div></div>
                    <div class="flex hover:bg-gray-50 p-2 rounded transition"><div class="w-44 font-semibold">Tempat, Tanggal Lahir</div><div class="w-4">:</div><div>Metro, 17 Desember 2004</div></div>
                    <div class="flex hover:bg-gray-50 p-2 rounded transition"><div class="w-44 font-semibold">Telepon</div><div class="w-4">:</div><div>089674538203</div></div>
                    <div class="flex hover:bg-gray-50 p-2 rounded transition"><div class="w-44 font-semibold">Email</div><div class="w-4">:</div><div>rizkyrayhan123@gmail.com</div></div>
                </div>
            </section>

            <!-- Pendidikan -->
            <section id="riwayat-sekolah" class="bg-white p-6 shadow-lg rounded-xl scroll-animate hover:shadow-xl transition-shadow">
                <h2 class="text-2xl font-semibold text-blue-700 mb-4 flex items-center gap-2">
                    <i class="fas fa-graduation-cap"></i> Riwayat Pendidikan
                </h2>
                <div class="space-y-4">
                    <div class="flex gap-4 items-start hover:bg-gray-50 p-3 rounded-lg transition">
                        <div class="w-2 h-2 bg-blue-600 rounded-full mt-2"></div>
                        <div>
                            <p class="font-semibold text-gray-800">SD Pertiwi Teladan</p>
                            <p class="text-sm text-gray-600">2011 – 2017</p>
                        </div>
                    </div>
                    <div class="flex gap-4 items-start hover:bg-gray-50 p-3 rounded-lg transition">
                        <div class="w-2 h-2 bg-blue-600 rounded-full mt-2"></div>
                        <div>
                            <p class="font-semibold text-gray-800">SMPN 1 Metro</p>
                            <p class="text-sm text-gray-600">2017 – 2019</p>
                        </div>
                    </div>
                    <div class="flex gap-4 items-start hover:bg-gray-50 p-3 rounded-lg transition">
                        <div class="w-2 h-2 bg-blue-600 rounded-full mt-2"></div>
                        <div>
                            <p class="font-semibold text-gray-800">SMAN 4 Metro</p>
                            <p class="text-sm text-gray-600">2020 – 2023</p>
                        </div>
                    </div>
                    <div class="flex gap-4 items-start hover:bg-blue-50 p-3 rounded-lg transition bg-blue-50">
                        <div class="w-2 h-2 bg-blue-600 rounded-full mt-2"></div>
                        <div>
                            <p class="font-semibold text-gray-800">Universitas Teknokrat Indonesia</p>
                            <p class="text-sm text-blue-600 font-medium">2023 – Sekarang</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Organisasi -->
            <section id="riwayat-organisasi" class="bg-white p-6 shadow-lg rounded-xl scroll-animate hover:shadow-xl transition-shadow">
                <h2 class="text-2xl font-semibold text-blue-700 mb-4 flex items-center gap-2">
                    <i class="fas fa-users"></i> Organisasi
                </h2>
                <div class="bg-gradient-to-r from-red-50 to-pink-50 p-4 rounded-lg border-l-4 border-red-500">
                    <div class="flex items-center gap-3">
                        <i class="fas fa-heart text-red-500 text-2xl"></i>
                        <div>
                            <p class="font-semibold text-gray-800">Tandu Palang Merah Remaja (PMR)</p>
                            <p class="text-sm text-gray-600">Anggota Aktif</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Kegiatan -->
            <section id="riwayat-kegiatan" class="bg-white p-6 shadow-lg rounded-xl scroll-animate hover:shadow-xl transition-shadow">
                <h2 class="text-2xl font-semibold text-blue-700 mb-4 flex items-center gap-2">
                    <i class="fas fa-calendar-check"></i> Kegiatan
                </h2>
                <div class="space-y-3">
                    <div class="flex items-center gap-3 p-3 bg-purple-50 rounded-lg hover:bg-purple-100 transition">
                        <i class="fas fa-gamepad text-purple-600 text-xl"></i>
                        <span class="text-gray-700">UKM Esport Divisi PUBG Mobile</span>
                    </div>
                    <div class="flex items-center gap-3 p-3 bg-green-50 rounded-lg hover:bg-green-100 transition">
                        <i class="fas fa-code text-green-600 text-xl"></i>
                        <span class="text-gray-700">Pelatihan Junior Web Developer</span>
                    </div>
                    <div class="flex items-center gap-3 p-3 bg-orange-50 rounded-lg hover:bg-orange-100 transition">
                        <i class="fas fa-shield-alt text-orange-600 text-xl"></i>
                        <span class="text-gray-700">Panitia Keamanan Lomba PMR</span>
                    </div>
                </div>
            </section>

            <!-- Proyek -->
            <section id="riwayat-proyek" class="bg-white p-6 shadow-lg rounded-xl scroll-animate hover:shadow-xl transition-shadow">
                <h2 class="text-2xl font-semibold text-blue-700 mb-4 flex items-center gap-2">
                    <i class="fas fa-laptop-code"></i> Portofolio Proyek
                </h2>
                <div id="projectGrid" class="grid gap-4 sm:grid-cols-2"></div>
            </section>

            <!-- Keahlian -->
            <section id="daftar-keahlian" class="bg-white p-6 shadow-lg rounded-xl scroll-animate hover:shadow-xl transition-shadow">
                <h2 class="text-2xl font-semibold text-blue-700 mb-4 flex items-center gap-2">
                    <i class="fas fa-code"></i> Keahlian
                </h2>
                <div id="skillsList" class="space-y-3"></div>
            </section>

        </div>

        <!-- Footer -->
        <footer class="text-center py-5 text-white bg-gray-900 mt-5">
            © 2024 Pweb2 • Rizky Dwi Rayhan • 23312171
        </footer>
    </main>
</div>

<!-- Sidebar Toggle & Overlay Script -->
<script>
const sidebar = document.querySelector('.sidebar');
const toggleBtn = document.getElementById('toggleSidebar');
const overlay = document.getElementById('overlay');

function toggleSidebar() {
    sidebar.classList.toggle('-translate-x-full');
    sidebar.classList.toggle('translate-x-0');
    overlay.classList.toggle('hidden');
}

toggleBtn.addEventListener('click', toggleSidebar);
overlay.addEventListener('click', toggleSidebar);
</script>

<!-- ScrollSpy -->
<script>
const sections = document.querySelectorAll('main section');
const navLinks = document.querySelectorAll('.sidebar nav a');

window.addEventListener('scroll', () => {
    let current = '';
    sections.forEach(section => {
        const sectionTop = section.offsetTop - 120;
        if (pageYOffset >= sectionTop) current = section.getAttribute('id');
    });
    navLinks.forEach(link => {
        link.classList.remove('bg-blue-800');
        if (link.getAttribute('href') === `#${current}`) link.classList.add('bg-blue-800');
    });
});
</script>

<!-- Scroll Animation -->
<script>
// Intersection Observer untuk animasi scroll
const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
};

const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.classList.add('show');
        }
    });
}, observerOptions);

// Observe semua elemen dengan class scroll-animate
document.querySelectorAll('.scroll-animate').forEach(el => {
    observer.observe(el);
});
</script>

<!-- Fetch Proyek & Keahlian -->
<script>
fetch('php/lat7_get_proyek.php')
.then(res => res.json())
.then(data => {
    const wrapper = document.getElementById("projectGrid");
    wrapper.innerHTML = '';
    if (!data.length) { 
        wrapper.innerHTML = `<p class="text-gray-500 text-center col-span-full py-8">Belum ada proyek.</p>`; 
        return; 
    }
    data.forEach((item, index) => {
        const card = document.createElement('div');
        card.className = 'bg-gradient-to-br from-blue-50 to-blue-100 p-5 rounded-xl shadow-md border border-blue-200 hover:scale-105 hover:shadow-xl transition-all duration-300 scroll-animate';
        card.style.transitionDelay = `${index * 0.1}s`;
        
        const imgHtml = item.gambar 
            ? `<img src="${item.gambar}" alt="${item.nama_proyek}" class="w-full h-40 object-cover rounded-lg mb-3">`
            : '<div class="w-full h-40 bg-blue-200 rounded-lg mb-3 flex items-center justify-center"><i class="fas fa-image text-4xl text-blue-400"></i></div>';
        
        card.innerHTML = `
            ${imgHtml}
            <h3 class="font-bold text-blue-800 mb-2 flex items-center gap-2">
                <i class="fas fa-laptop-code"></i> ${item.nama_proyek}
            </h3>
            <p class="text-gray-700 text-sm mb-3 line-clamp-2">${item.deskripsi || 'Tidak ada deskripsi'}</p>
            <div class="flex items-center justify-between text-xs text-gray-600 mb-3">
                <span class="flex items-center gap-1"><i class="fas fa-calendar"></i> ${item.tahun_proyek}</span>
                <span class="px-2 py-1 bg-blue-200 text-blue-800 rounded-full font-semibold">${item.jenis_proyek}</span>
            </div>
            <a href="php/lat7_detail_proyek.php?id=${item.id_proyek}" 
               class="block text-center px-4 py-2 bg-blue-700 text-white rounded-lg hover:bg-blue-800 transition shadow-md">
                Detail Proyek <i class="fas fa-arrow-right ml-1"></i>
            </a>
        `;
        wrapper.appendChild(card);
        
        // Observer untuk card proyek
        observer.observe(card);
    });
});

fetch('php/lat7_get_keahlian.php')
.then(res => res.json())
.then(data => {
    const list = document.getElementById("skillsList");
    list.innerHTML = '';
    if (!data.length) { 
        list.innerHTML = `<p class="text-center text-gray-500 py-4">Belum ada keahlian.</p>`; 
        return; 
    }
    data.forEach((item, index) => {
        const skill = document.createElement('div');
        skill.className = 'flex items-start gap-3 p-3 bg-gradient-to-r from-gray-50 to-blue-50 rounded-lg hover:from-blue-50 hover:to-blue-100 transition-all scroll-animate';
        skill.style.transitionDelay = `${index * 0.1}s`;
        skill.innerHTML = `
            <div class="w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center text-white flex-shrink-0">
                <i class="fas ${item.icon}"></i>
            </div>
            <div>
                <p class="font-bold text-gray-800">${item.nama_keahlian}</p>
                <p class="text-sm text-gray-600">${item.deskripsi}</p>
            </div>
        `;
        list.appendChild(skill);
        
        // Observer untuk skill items
        observer.observe(skill);
    });
});
</script>

</body>
</html>